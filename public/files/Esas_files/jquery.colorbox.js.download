!function(e,n,s){function a(t,i,o){return o=n.createElement("div"),t&&(o.id=et+t),o.style.cssText=i||"",e(o)}function h(e,t){return Math.round((/%/.test(e)?("x"===t?b.width():b.height())/100:1)*parseInt(e,10))}function d(e){return P.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(e)}function l(t){P=e.extend({},e.data(B,Z));for(t in P)e.isFunction(P[t])&&"on"!==t.substring(0,2)&&(P[t]=P[t].call(B));P.rel=P.rel||B.rel||"nofollow",P.page=P.page||e(B).attr("page")||"nofollow",P.href=P.href||e(B).attr("href"),P.title=P.title||B.title,"string"==typeof P.href&&(P.href=e.trim(P.href))}function r(t,i){i&&i.call(B),e.event.trigger(t)}function c(){var e,t,i,o=et+"Slideshow_",n="click."+et;P.slideshow&&C[1]?(t=function(){I.text(P.slideshowStop).unbind(n).bind(nt,function(){(O<C.length-1||P.loop)&&(e=setTimeout(X.next,P.slideshowSpeed))}).bind(ot,function(){clearTimeout(e)}).one(n+" "+st,i),u.removeClass(o+"off").addClass(o+"on"),e=setTimeout(X.next,P.slideshowSpeed)},i=function(){clearTimeout(e),I.text(P.slideshowStart).unbind([nt,ot,st,n].join(" ")).one(n,t),u.removeClass(o+"on").addClass(o+"off")},P.slideshowAuto?t():i()):u.removeClass(o+"off "+o+"on")}function p(t){if(!J){if(B=t,l(),C=e(B),O=0,R=0,"nofollow"!==P.rel&&(C=e("."+tt).filter(function(){var t=e.data(this,Z).rel||this.rel;return t===P.rel}),O=C.index(B),-1===O&&(C=C.add(B),O=C.length-1)),$paged=new Array,"nofollow"!==P.page)for(i=0;i<C.length;i++)$relatedpages=e("."+tt).filter(function(){var t=(e(e.data(this,Z)).attr("page")||e(this).attr("page"))&&e(this).attr("page")==e(C[i]).attr("page");return t}),R=$relatedpages.index(C[i]),-1===R&&($relatedpages=$relatedpages.add(C[i]),R=$relatedpages.length-1),$paged[$paged.length]=$relatedpages;if(!G){if(G=N=!0,u.show(),P.returnFocus)try{B.blur(),e(B).one(at,function(){try{this.focus()}catch(e){}})}catch(o){}f.css({opacity:+P.opacity,cursor:P.overlayClose?"pointer":"auto"}).show(),P.w=h(P.initialWidth,"x"),P.h=h(P.initialHeight,"y"),X.position(),lt&&b.bind("resize."+rt+" scroll."+rt,function(){f.css({width:b.width(),height:b.height(),top:b.scrollTop(),left:b.scrollLeft()})}).trigger("resize."+rt),r(it,P.onOpen),K.add(k).hide(),_.html(P.close).show()}X.load(!0)}}var f,u,g,m,w,y,v,x,C,b,T,H,W,k,$,I,L,M,E,S,D,_,K,P,A,F,j,z,B,O,R,q,G,N,Q,J,U,V,X,Y={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,page:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",controls:!0,pages:!1,pagesnames:new Array,close:"close",open:!1,returnFocus:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:!1},Z="colorbox",et="cbox",tt=et+"Element",it=et+"_open",ot=et+"_load",nt=et+"_complete",st=et+"_cleanup",at=et+"_closed",ht=et+"_purge",dt=e.browser.msie&&!e.support.opacity,lt=dt&&e.browser.version<7,rt=et+"_IE6";X=e.fn[Z]=e[Z]=function(t,i){var o=this;if(t=t||{},!o[0]){if(o.selector)return o;o=e("<a/>"),t.open=!0}return i&&(t.onComplete=i),o.each(function(){e.data(this,Z,e.extend({},e.data(this,Z)||Y,t)),e(this).addClass(tt)}),(e.isFunction(t.open)&&t.open.call(o)||t.open)&&p(o[0]),o},X.init=function(){b=e(s),u=a().attr({id:Z,"class":dt?et+(lt?"IE6":"IE"):""}),f=a("Overlay",lt?"position:absolute":"").hide(),g=a("Wrapper"),m=a("Content").append(T=a("LoadedContent","width:0; height:0; overflow:hidden"),W=a("LoadingOverlay").add(a("LoadingGraphic")),k=a("Title"),$=a("Current"),L=a("Next"),M=a("Previous"),E=a("Pages"),S=a("Desc").addClass("hidden"),D=a("AddDesc").addClass("hidden"),I=a("Slideshow").bind(it,c),_=a("Close")),g.append(a().append(a("TopLeft"),w=a("TopCenter"),a("TopRight")),a(!1,"clear:left").append(y=a("MiddleLeft"),m,v=a("MiddleRight")),a(!1,"clear:left").append(a("BottomLeft"),x=a("BottomCenter"),a("BottomRight"))).children().children().css({"float":"left"}),H=a(!1,"position:absolute; width:9999px; visibility:hidden; display:none"),e("body").prepend(f,u.append(g,H)),m.children().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}).addClass("hover"),A=w.height()+x.height()+m.outerHeight(!0)-m.height(),F=y.width()+v.width()+m.outerWidth(!0)-m.width(),j=T.outerHeight(!0),z=T.outerWidth(!0),Q=!1,u.css({"padding-bottom":A,"padding-right":F}).hide(),L.click(function(){X.next()}),M.click(function(){X.prev()}),_.click(function(){X.close()}),K=L.add(M).add($).add(E).add(S).add(I).add(D),m.children().removeClass("hover"),f.click(function(){P.overlayClose&&X.close()}),e(n).bind("keydown."+et,function(e){var t=e.keyCode;G&&P.escKey&&27===t&&(e.preventDefault(),X.close()),G&&P.arrowKey&&C[1]&&(37===t?(e.preventDefault(),M.click()):39===t&&(e.preventDefault(),L.click()))})},X.remove=function(){u.add(f).remove(),e("."+tt).removeData(Z).removeClass(tt)},X.position=function(e,t){function i(e){w[0].style.width=x[0].style.width=m[0].style.width=e.style.width,W[0].style.height=W[1].style.height=m[0].style.height=y[0].style.height=v[0].style.height=e.style.height}var o=0,s=0;b.unbind("resize."+et),u.hide(),P.fixed&&!lt?u.css({position:"fixed"}):(o=b.scrollTop(),s=b.scrollLeft(),u.css({position:"absolute"})),s+=P.right!==!1?Math.max(b.width()-P.w-z-F-h(P.right,"x"),0):P.left!==!1?h(P.left,"x"):Math.round(Math.max(b.width()-P.w-z-F,0)/2),o+=P.bottom!==!1?Math.max(n.documentElement.clientHeight-P.h-j-A-h(P.bottom,"y"),0):P.top!==!1?h(P.top,"y"):Math.round(Math.max(n.documentElement.clientHeight-P.h-j-A,0)/2),u.show(),e=u.width()===P.w+z&&u.height()===P.h+j?0:e||0,g[0].style.width=g[0].style.height="9999px",u.dequeue().animate({width:P.w+z,height:P.h+j,top:o,left:s},{duration:e,complete:function(){i(this),N=!1,g[0].style.width=P.w+z+F+"px",g[0].style.height=P.h+j+A+"px",t&&t(),setTimeout(function(){b.bind("resize."+et,X.position)},1)},step:function(){i(this)}})},X.resize=function(e){if(G){if(e=e||{},e.width&&(P.w=h(e.width,"x")-z-F),e.innerWidth&&(P.w=h(e.innerWidth,"x")),T.css({width:P.w}),e.height&&(P.h=h(e.height,"y")-j-A),e.innerHeight&&(P.h=h(e.innerHeight,"y")),!e.innerHeight&&!e.height){var t=T.wrapInner("<div style='overflow:auto'></div>").children();P.h=t.height(),t.replaceWith(t.children())}T.css({height:P.h}),X.position("none"===P.transition?0:P.speed)}},X.prep=function(n){function s(){return P.w=P.w||T.width(),P.w=P.mw&&P.mw<P.w?P.mw:P.w,P.w}function h(){return P.h=P.h||T.height(),P.h=P.mh&&P.mh<P.h?P.mh:P.h,P.h}if(G){var l,c="none"===P.transition?0:P.speed;T.remove(),T=a("LoadedContent").append(n),T.hide().appendTo(H.show()).css({width:s(),overflow:P.scrolling?"auto":"hidden"}).css({height:h()}).prependTo(m),H.hide(),e(q).css({"float":"none"}),lt&&e("select").not(u.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(st,function(){this.style.visibility="inherit"}),l=function(){function n(){dt&&u[0].style.removeAttribute("filter")}var s,a,h,l,p,f,g=C.length,w=$paged.length>=1?$paged[0].length:0;if(G){for(f=function(){clearTimeout(V),W.hide(),r(nt,P.onComplete)},dt&&q&&T.fadeIn(100),k.html(P.title).add(T).show(),g>1?("string"==typeof P.current&&$.html(P.current.replace("{current}",O+1).replace("{total}",g)).show(),L[(P.loop||g-1>O)&&P.controls?"show":"hide"]().html(P.next),M[(P.loop||O)&&P.controls?"show":"hide"]().html(P.previous),s=O?C[O-1]:C[g-1],h=g-1>O?C[O+1]:C[0],P.slideshow&&I.show(),P.preloading&&(l="",e.data(h,Z)&&(l=e.data(h,Z).href||h.href),a="",e.data(s,Z)&&(a=e.data(s,Z).href||s.href),l=e.isFunction(l)?l.call(h):l,a=e.isFunction(a)?a.call(s):a,d(l)&&(e("<img/>")[0].src=l),d(a)&&(e("<img/>")[0].src=a))):K.hide(),pagetext="",i=0;w>i;i++)t=i+1,"object"==typeof P.pagesnames&&P.pagesnames.length>=i+1&&(t=P.pagesnames[i]),classname=i==R?"active":"",pagetext+='<span class="cboxPage '+classname+'" pageindex="'+i+'">'+t+"</span>";P.pages&&(m.addClass("withpages"),P.controls||E.attr("id","cboxPagesLeft")),E[P.pages?"show":"hide"]().html(pagetext),E.children().click(function(){R=e(this).attr("pageindex"),X.page()}),e(B).attr("desc")?(o=e("#"+e(B).attr("desc")),S.html(o.html()),S.removeClass("hidden"),m.addClass("withdesc"),S.show()):(S.html(""),S.hide(),m.removeClass("withdesc")),e(B).attr("desc1")?(o=e("#"+e(B).attr("desc1")),D.html(o.html()),D.removeClass("hidden"),D.show(),m.addClass("withadddesc")):(D.html(""),D.hide(),m.removeClass("withadddesc")),P.iframe?(p=e("<iframe/>").addClass(et+"Iframe")[0],P.fastIframe?f():e(p).one("load",f),p.name=et+ +new Date,p.src=P.href,P.scrolling||(p.scrolling="no"),dt&&(p.frameBorder=0,p.allowTransparency="true"),e(p).appendTo(T).one(ht,function(){p.src="//about:blank"})):f(),"fade"===P.transition?u.fadeTo(c,1,n):n()}},"fade"===P.transition?u.fadeTo(c,0,function(){X.position(0,l)}):X.position(c,l)}},X.load=function(t){var i,o,n=X.prep;N=!0,q=!1,B=C[O],t||l(),P.pages&&"nofollow"!=P.page&&(B=$paged[O][R],m.addClass("withpages")),e(B).attr("desc")?m.addClass("withdesc"):m.removeClass("withdesc"),Q||(j=T.outerHeight(!0),loadedHeight1=T.outerHeight(!0),Q=!0),e(B).attr("desc1")&&e.trim(e("#"+e(B).attr("desc1")).html()).length>0?(m.addClass("withadddesc"),j=loadedHeight1+60):(m.removeClass("withadddesc"),j=loadedHeight1),r(ht),r(ot,P.onLoad),P.h=P.height?h(P.height,"y")-j-A:P.innerHeight&&h(P.innerHeight,"y"),P.w=P.width?h(P.width,"x")-z-F:P.innerWidth&&h(P.innerWidth,"x"),P.mw=P.w,P.mh=P.h,P.maxWidth&&(P.mw=h(P.maxWidth,"x")-z-F,P.mw=P.w&&P.w<P.mw?P.w:P.mw),P.maxHeight&&(P.mh=h(P.maxHeight,"y")-j-A,P.mh=P.h&&P.h<P.mh?P.h:P.mh),i=e(B).attr("href"),i||(i=P.href),V=setTimeout(function(){W.show()},100),P.inline?(a().hide().insertBefore(e(i)[0]).one(ht,function(){e(this).replaceWith(T.children())}),n(e(i))):P.iframe?n(" "):P.html?n(P.html):d(i)?(e(q=new Image).addClass(et+"Photo").error(function(){P.title=!1,n(a("Error").text("This image could not be loaded"))}).load(function(){var e;q.onload=null,P.scalePhotos&&(o=function(){q.height-=q.height*e,q.width-=q.width*e},P.mw&&q.width>P.mw&&(e=(q.width-P.mw)/q.width,o()),P.mh&&q.height>P.mh&&(e=(q.height-P.mh)/q.height,o())),P.h&&(q.style.marginTop=Math.max(P.h-q.height,0)/2+"px"),C[1]&&(O<C.length-1||P.loop)&&(q.style.cursor="pointer",q.onclick=function(){X.next()}),dt&&(q.style.msInterpolationMode="bicubic"),setTimeout(function(){n(q)},1)}),setTimeout(function(){q.src=i},1)):i&&H.load(i,P.data,function(t,i,o){n("error"===i?a("Error").text("Request unsuccessful: "+o.statusText):e(this).contents())})},X.next=function(){!N&&C[1]&&(O<C.length-1||P.loop)&&(O=O<C.length-1?O+1:0,X.load())},X.prev=function(){!N&&C[1]&&(O||P.loop)&&(O=O?O-1:C.length-1,X.load())},X.page=function(){N||!C[1]&&!$paged[0][1]||!O&&!P.loop||(O=parseInt(O),R=parseInt(R),X.load())},X.close=function(){G&&!J&&(J=!0,G=!1,r(st,P.onCleanup),b.unbind("."+et+" ."+rt),f.fadeTo(200,0),u.stop().fadeTo(300,0,function(){u.add(f).css({opacity:1,cursor:"auto"}).hide(),r(ht),T.remove(),setTimeout(function(){J=!1,r(at,P.onClosed)},1)}))},X.element=function(){return e(B)},X.settings=Y,U=function(e){0!==e.button&&"undefined"!=typeof e.button||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),p(this))},e.fn.delegate?e(n).delegate("."+tt,"click",U):e("."+tt).live("click",U),e(X.init)}(jQuery,document,this);